<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EchoMetrics - Sales Prediction Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body>
    <nav 
        class="navbar navbar-dark bg-primary" 
        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-chart-line me-2"></i>
                EchoMetrics Sales Prediction
            </a>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Dashboard Header -->
        <div class="row pb-4">
            <div class="col-12" style="color: rgb(196, 182, 232);">
                <h1 class="display-6">Sales Prediction Dashboard</h1>
                <p class="lead">Predict sales potential based on customer behavior and product characteristics</p>
            </div>
        </div>

        <!-- Analytics Cards -->
        <div class="row mb-4" id="analytics-cards">
            <div class="col-md-3">
                <div class="card bg-primary text-white">
                    <div class="card-body" style="background-color: rgb(110, 108, 226); border-radius: 15px;">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h6 class="card-title">Total Records</h6>
                                <h3 id="total-records">-</h3>
                            </div>
                            <div class="align-self-center">
                                <i class="fas fa-database fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-success text-white">
                    <div class="card-body" style="background-color: rgb(110, 108, 226); border-radius: 15px;">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h6 class="card-title">Avg Sales Potential</h6>
                                <h3 id="avg-sales">$-</h3>
                            </div>
                            <div class="align-self-center">
                                <i class="fas fa-dollar-sign fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-warning text-white">
                    <div class="card-body" style="background-color: rgb(110, 108, 226); border-radius: 15px;">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h6 class="card-title">Max Sales Potential</h6>
                                <h3 id="max-sales">$-</h3>
                            </div>
                            <div class="align-self-center">
                                <i class="fas fa-arrow-up fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-info text-white">
                    <div class="card-body" style="background-color: rgb(110, 108, 226); border-radius: 15px;">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h6 class="card-title">Model Accuracy</h6>
                                <h3>86.5%</h3>
                            </div>
                            <div class="align-self-center">
                                <i class="fas fa-bullseye fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="row">
            <!-- Prediction Form -->
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-calculator me-2"></i>Sales Prediction</h5>
                    </div>
                    <div class="card-body">
                        <form id="prediction-form">
                            <div class="mb-3">
                                <label for="price" class="form-label">Product Price ($)</label>
                                <input type="number" class="form-control" id="price" min="100" max="3000" value="1500" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="age" class="form-label">Customer Age</label>
                                <input type="number" class="form-control" id="age" min="18" max="80" value="35" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="gender" class="form-label">Customer Gender</label>
                                <select class="form-select" id="gender" required>
                                    <option value="0">Female</option>
                                    <option value="1" selected>Male</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="frequency" class="form-label">Purchase Frequency</label>
                                <select class="form-select" id="frequency" required>
                                    <option value="1">Rarely (1)</option>
                                    <option value="2">Sometimes (2)</option>
                                    <option value="3" selected>Regularly (3)</option>
                                    <option value="4">Often (4)</option>
                                    <option value="5">Very Often (5)</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="satisfaction" class="form-label">Customer Satisfaction</label>
                                <select class="form-select" id="satisfaction" required>
                                    <option value="1">Very Poor (1)</option>
                                    <option value="2">Poor (2)</option>
                                    <option value="3">Average (3)</option>
                                    <option value="4" selected>Good (4)</option>
                                    <option value="5">Excellent (5)</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="intent" class="form-label">Purchase Intent</label>
                                <select class="form-select" id="intent" required>
                                    <option value="0">No Intent</option>
                                    <option value="1" selected>Has Intent</option>
                                </select>
                            </div>
                            
                            <button type="submit" class="btn btn-primary w-100">
                                <i class="fas fa-magic me-2"></i>Predict Sales
                            </button>
                        </form>
                        
                        <!-- Prediction Result -->
                        <div id="prediction-result" class="mt-4" style="display: none;">
                            <div class="alert alert-success">
                                <h6><i class="fas fa-chart-bar me-2"></i>Prediction Result</h6>
                                <h4 id="prediction-value">$0.00</h4>
                                <small class="text-muted">Estimated sales potential</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts and Analytics -->
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-chart-area me-2"></i>Sales Analytics</h5>
                    </div>
                    <div class="card-body">
                        <!-- Chart Navigation -->
                        <ul class="nav nav-tabs" id="chart-tabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="price-tab" data-bs-toggle="tab" 
                                        data-bs-target="#price-chart" type="button" role="tab">
                                    Price Analysis
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="category-tab" data-bs-toggle="tab" 
                                        data-bs-target="#category-chart" type="button" role="tab">
                                    Category Analysis
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="behavior-tab" data-bs-toggle="tab" 
                                        data-bs-target="#behavior-chart" type="button" role="tab">
                                    Customer Behavior
                                </button>
                            </li>
                        </ul>
                        
                        <!-- Chart Content -->
                        <div class="tab-content mt-3" id="chart-content">
                            <div class="tab-pane fade show active" id="price-chart" role="tabpanel">
                                <div class="text-center">
                                    <img id="price-chart-img" src="" alt="Price Analysis Chart" class="img-fluid">
                                    <div class="spinner-border" role="status" id="price-spinner">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="category-chart" role="tabpanel">
                                <div class="text-center">
                                    <img id="category-chart-img" src="" alt="Category Analysis Chart" class="img-fluid">
                                    <div class="spinner-border" role="status" id="category-spinner">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="behavior-chart" role="tabpanel">
                                <div class="text-center">
                                    <img id="behavior-chart-img" src="" alt="Behavior Analysis Chart" class="img-fluid">
                                    <div class="spinner-border" role="status" id="behavior-spinner">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Top Scenarios -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-trophy me-2"></i>Top Sales Opportunities</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped" id="scenarios-table">
                                <thead>
                                    <tr>
                                        <th>Rank</th>
                                        <th>Category</th>
                                        <th>Brand</th>
                                        <th>Price</th>
                                        <th>Predicted Sales</th>
                                        <th>Potential</th>
                                    </tr>
                                </thead>
                                <tbody id="scenarios-tbody">
                                    <tr>
                                        <td colspan="6" class="text-center">
                                            <div class="spinner-border" role="status">
                                                <span class="visually-hidden">Loading scenarios...</span>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
